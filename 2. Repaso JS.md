# Repaso JavaScript

Para entender como funciona react y en que puede ser usado, es necesario tener algunas nociones b치sicas de JavaScript

Acorde a Mozilla JavaScript es un lenguaje de programaci칩n o de secuencias de comandos que te permite implementar funciones complejas en p치ginas web.

<img title="" src="file:///C:/Users/Salomon_DEV/Documents/UCompensar/Curso%20React/Imagenes_Apoyo/triada_html_css_js.png" alt="triada_html_css_js.png" data-align="center">

## Nomenclatura

Para motivos del curso (y en la mayor칤a de ambientes profesionales / laborales de desarrollo se usan diferentes convenciones para variables, constantes, clases, funciones).

| Implementaci칩n | Convenci칩n                           | Ejemplo                       |
|:--------------:| ------------------------------------ | ----------------------------- |
| Variable       | camelCase                            | nombreUsuario<br/>edadCliente |
| Booleano       | camelCase (prefijo **is**맖 **has**) | isActive<br/>hasOwner         |
| Funcion        | camelCase                            | function getName(){}          |
| Constante      | UPPER_SNAKE_CASE                     | IVA                           |
| Clase          | PascalCase                           | BotonUsuario{}                |

## Salida por consola

Javascript permite devolver en consola los resultados de los procesos que hagamos, para ello usamos la funci칩n nativa ```console.log()```, veamos un ejemplo

```js
console.log("Hola mundo")
```

Esto imprimir치 en la consola de nuestro navegador la frase "Hola mundo", sin embargo al ser por consola no podemos verlo en nuestro html, debemos ir a herramientas de desarrollador 俱뫮잺 consola. Ah칤 podemos ver nuestros datos.

<img src="file:///C:/Users/Salomon_DEV/Documents/UCompensar/Curso%20React/Imagenes_Apoyo/consola_1.png" title="" alt="consola_1.png" data-align="left">Listo ya hicimos la impresi칩n en consola de una frase, pero, 쯤u칠 sigue?. Entender los tipos de datos y estructuras que manejamos en JavaScript. Recordemos que JavaScript es un lenguaje interpretado y debilmente estructurado, lo que signfica que no debemos especificar el tipo de dato que vamos a usar, sin embargo se recomienda realizar este procedimiento por buenas pr치cticas.

| Tipo de dato | Descripci칩n                                           | Ejemplo b치sico         |
| ------------ | ----------------------------------------------------- | ---------------------- |
| `Number`     | Valor num칠rico (enteros, decimales, etc...)           | `42`                   |
| `BigInt`     | Valor num칠rico grande                                 | `1234567890123456789n` |
| `String`     | Valor de texto (cadenas de texto, car치cteres, etc...) | `'MZ'`                 |
| `Boolean`    | Valor booleano (valores verdadero o falso)            | `true`                 |
| `undefined`  | Valor sin definir (variable sin inicializar)          | `undefined`            |
| `Function`   | Funci칩n (funci칩n guardada en una variable)            | `function() {}`        |
| `Symbol`     | S칤mbolo (valor 칰nico)                                 | `Symbol(1)`            |
| `Object`     | Objeto (estructura m치s compleja)                      | `{}`                   |
| `Array`      | Conjunto de elementos                                 | `[]`                   |

## Variables y constantes

Existen dos tipos de variables y un tipo de constante ```var, let y const```.

La diferencia entre var y let es el alcance que tiene (scope), por buenas pr치cticas se usa ```let``` en lugar de ```var```. Por el contario ```const``` no me permite cambiar el valor de lo definido.

Variables

```js
var edad = 10
if(true){
    var edad = 20
    console.log(edad) // Imprime en consola 20
}
console.log(edad) // Imprime en consola 20

let edad = 10
    if(true){
        let edad = 20
        console.log(edad) // Imprime en consola 20
    }
console.log(edad) // imprime en cosola 10
```

Constantes

```js
const edad = 10
const edad = 20 // SyntaxError

const edad = 10
edad = 20 // Error: "edad" is read-only

const edad = 10
    if(true){
        const edad = 20
        console.log(edad) // Imprime en consola 20
    }
console.log(edad) // Imprime en consola 10
```

## Arreglos (Arrays)

Los arreglos en JavaScript permiten diferentes tipos de datos en su estructura.

```js
let edades = [10,20,30]
edades = [10,20,30,40]
edades.push(50)

//Ver los elementos
console.log(edades)

//Ver el tama침o del arreglo
console.log(edades.length)

//Acceder elemento
console.log(edades[0])

//Cambiar el valor de un elemento
edades[0] = 100
console.log(edades)

//Eliminar un elemento por su posici칩n
edades.splice(-1,1)
console.log(edades)

//Elimina el primer elemento
console.log(edades.shift())
console.log(edades)

//Recorrer el arreglo edades con for
for(let i = 0; i < edades.length; i++){
먝먝먝맊onsole.log('Arreglo por for: ' + edades[i])
}

        //Recorrer el arreglo edades con forEach
        edades.forEach(function(elemento, index){
            console.log('Arreglo por forEach: ' + elemento + ' con posici칩n: ' + index)
        })
```

## Funciones

Las funciones nos permiten agrupar l칤neas de c칩digo en tareas con un nombre, para que, posteriormente, podamos hacer referencia a ese nombre para realizar todo lo que se agrupe en dicha tarea. Para usar funciones hay que hacer 2 cosas:

1. Declarar la funci칩n: Preparar la funci칩n, darle un nombre y decirle las tareas que realizar치.

2. Ejecutar la funci칩n: 춺Llamar췉 a la funci칩n para que realice las tareas de su contenido

```js
function sumar (num1, num2) {
  console.log(num1 + num2)
}
sumar(10, 20)
```

Existe otro tipo de funcion llamado **arrow function** que permite simplificar los procesos.

```js
const sumarDos = (num1, num2) => {
  console.log(num1 + num2)
}
sumarDos(10, 50)

const sumarDos = num1 => {
  console.log(num1)
}
sumarDos(10)

const sumarDos = num1 => {
  return num1
}
console.log(sumarDos(10))

const sumarDos = num1 => num1
console.log(sumarDos(10))

const sumar = (num1, num2) => {
  return 'la suma es: ' + (num1 + num2)
}
let resultado = sumar(10, 20)
console.log(resultado)

const sumar = (num1, num2) => (
  'la suma es: ' + (num1 + num2)
)
let resultado = sumar(10, 20)
console.log(resultado)

const sumar = (num1 = 10) => (
  'la suma es: ' + (num1 + 20)
)
let resultado = sumar()
console.log(resultado)
```

## Template String

Las plantillas literales son cadenas literales que habilitan el uso de expresiones incrustadas. Con ellas, es posible utilizar cadenas de caracteres de m치s de una l칤nea, y funcionalidades de interpolaci칩n de cadenas de caracteres.

```js
const numero = (num) => {
  return 'el numero es: ' + num 
}
const resultado = numero(10)
console.log(resultado) 

const numero = (num) => {
  return `el numero es: ${num}` 
}
const resultado = numero(10)
console.log(resultado)

const numero = (num1, num2) => {
  return `el numero es: ${num1 + num2}` 
}
const resultado = numero(10,20)
console.log(resultado)
```

## Estructuras de control

| Estructura de control | Descripci칩n                                                                        |
| --------------------- | ---------------------------------------------------------------------------------- |
| `If`                  | **Condici칩n simple**: Si ocurre algo, haz lo siguiente...                          |
| `If/else`             | **Condici칩n con alternativa**: Si ocurre algo, haz esto, sino, haz lo esto otro... |
| `?:`                  | **Operador ternario**: Equivalente a`If/else`, m칠todo abreviado.                  |
| `Switch`              | **Estructura para casos espec칤ficos**: Similar a varios`If/else`마nidados.        |

### Condicional if

Con esta estructura podemos indicar en el programa que se tome un camino s칩lo si se cumple la condici칩n que establezcamos

```js
let nota = 7;
console.log("He realizado mi examen.");
if (nota >= 5) {
  console.log("춰Estoy aprobado!");
}
```

### Condicional if/else

En caso de que queramos establecer una alternativa a una condici칩n usamos el if seguido de un else. Con esto podemos establecer una acci칩n A si se cumple la condici칩n, y una acci칩n B si no se cumple.

```js
let nota = 7;
console.log("He realizado mi examen. Mi resultado es el siguiente:");

if (nota < 5) {
  calificacion = "suspendido";
} else {
  calificacion = "aprobado";
}
console.log("Estoy", calificacion);
```

### Condicional m칰ltiple if/elseif/else

Varias condiciones unidas para m칰ltiples escenarios.

```js
let nota = 7;
console.log("He realizado mi examen.");

// Condici칩n
if (nota < 5) {
  calificacion = "Insuficiente";
} else if (nota < 6) {
  calificaci칩n = "Suficiente";
} else if (nota < 8) {
  calificacion = "Bien";
} else if (nota <= 9) {
  calificacion = "Notable";
} else {
  calificacion = "Sobresaliente";
}

console.log("He obtenido un", calificacion);
```

### Condicional switch

La estructura de control switch permite definir casos espec칤ficos a realizar en el caso de que la variable expuesta como condici칩n sea igual a los valores que se especifican a continuaci칩n mediante los case. Sin embargo la funci칩n debe permitir valores **exactos**, por lo que por ejemplo para notas decimales no sevir칤a.

```js
let nota = 7;
console.log("He realizado mi examen. Mi resultado es el siguiente:");

switch (nota) {
  case 10:
    calificacion = "Sobresaliente";
    break;
  case 9:
  case 8:
    calificacion = "Notable";
    break;
  case 7:
  case 6:
    calificacion = "Bien";
    break;
  case 5:
    calificacion = "Suficiente";
    break;
  case 4:
  case 3:
  case 2:
  case 1:
  case 0:
    calificacion = "Insuficiente";
    break;
  default:
    // Cualquier otro caso
    calificacion = "Nota err칩nea";
    break;
}

console.log("He obtenido un", calificacion);
```

### Operador ternario

Alternativa de condicional if/else de una forma mucho m치s corta y, en muchos casos, m치s legible.

```js
let nota = 7;
console.log("He realizado mi examen. Mi resultado es el siguiente:");
// Operador ternario: (condici칩n ? verdadero : falso)
let calificacion = nota < 5 ? "suspendido" : "aprobado";
console.log("Estoy", calificacion);
```

## Bucles e iteraciones

| Tipo de bucle | Descripci칩n                                                    |
| ------------- | -------------------------------------------------------------- |
| `while`       | Bucles simples.                                                |
| `for`         | Bucles cl치sicos por excelencia.                                |
| `do..while`   | Bucles simples que se realizan siempre como m칤nimo una vez.    |
| `for..in`     | Bucles sobre posiciones de un array. Los veremos m치s adelante. |
| `for..of`     | Bucles sobre elementos de un array. Los veremos m치s adelante.  |

### Bucle while

El bucle**while**만s uno de los bucles m치s simples que podemos crear, se debe tener cuidado, pues si no se limita el bucle se repite infinitamente.

```js
i = 0; // Contador

// Condici칩n: Mientras la variable contador sea menor de 10
while (i < 10) {
  console.log("Valor de i:", i);
  i = i + 1; // Incrementamos el valor de i
}
```

### Bucle for

El bucle**for**만s quiz치s uno de los m치s utilizados en el mundo de la programaci칩n. En Javascript se utiliza exactamente igual que en otros lenguajes como Java o C/C++.

```js
// for (inicio; condici칩n; incremento)
for (i = 0; i < 5; i++) {
  console.log("Valor de i:", i);
}
```

## Objetos

Los objetos pueden verse como una variable especial que puede contener m치s variables en su interior. De esta forma, tenemos la posibilidad de organizar m칰ltiples variables de la misma tem치tica en el interior de un objeto

```js
//Definimos un objeto
const mascota = {
    nombre: 'Lucky',
    especie: 'Perro',
    edad: 13,
    raza: 'Schnauzer',
    hermanos: [
        {
            nombre: 'Contador',
            especie: 'Gato',
            edad: 3,
            raza: 'Americano com칰n de pelo corto'
        },
        {
            nombre: 'Zoro',
            especie: 'Perro',
            edad: 1,
            raza: 'Pitbull'
        }
    ],
    propietarios: [
        {
            nombre: 'Joan',
            apellido: 'Nieto'
        },
        {
            nombre: 'Vivian',
            apellido: 'Pinz칩n'
        }
    ]
}

//Imprimimos el objeto
console.log(mascota);
//Imprimimos valores espec칤ficos del objeto
console.log(mascota.nombre)
console.log(mascota.raza)
//Traemos los valores del arreglo
console.log(mascota.hermanos)
//Traemos un valor espec칤fico del arreglo
console.log(mascota.hermanos[1])
console.log(mascota.hermanos[1].raza)
//Traemos a los due침os
console.log(mascota.propietarios)
console.log(mascota.propietarios[0])
//Modificamos valores del objeto
mascota.nombre = 'Lucky Samira'
console.log(mascota.nombre)
//Agregamos valores al objeto
mascota.peso = 10
console.log(mascota)
```

## Desestructuraci칩n de objetos

```js
//Definimos un objeto
const mascota = {
    nombre: 'Lucky',
    especie: 'Perro',
    edad: 13,
    raza: 'Schnauzer',
    hermanos: [
        {
            nombre: 'Contador',
            especie: 'Gato',
            edad: 3,
            raza: 'Americano com칰n de pelo corto'
        },
        {
            nombre: 'Zoro',
            especie: 'Perro',
            edad: 1,
            raza: 'Pitbull'
        }
    ],
    propietarios: [
        {
            nombre: 'Joan',
            apellido: 'Nieto'
        },
        {
            nombre: 'Vivian',
            apellido: 'Pinz칩n'
        }
    ]
}

// Definimos constante para acceder a un valor de objeto
const nombres = mascota.nombre
console.log(nombres)

// Destructuracion de objeto
const { nombre } = mascota
console.log(nombre)

// Destructuracion de objeto con varios valores
const { especie, edad } = mascota
console.log(especie, edad)
console.log(`${especie} de ${edad} a침os`)

// Destructuracion de objeto con varios valores y asignacion de nuevos nombres
const { nombre: nombreMascota, especie: tipo = 'Domestico', edad: edadMascota } = mascota
console.log(nombreMascota, tipo, edadMascota)
console.log(`${nombreMascota} es un ${tipo} de ${edadMascota} a침os`)
```

## Fetch API

La API Fetch proporciona una interfaz JavaScript para acceder y manipular partes del canal HTTP, tales como peticiones y respuestas. 

Ejemplo de api (Pokem칩n, por supuesto 游땕)

https://pokeapi.co/api/v2/pokemon

```js
//Fetch API
fetch('https://pokeapi.co/api/v2/pokemon')
    // Fetch retorna una promesa, por lo que usamos el m칠todo http
    .then( res => res.json() )
    // Data es el objeto JSON que retornamos en el p
    .then( data => {
        // Imprimimos los resultados
        console.log(data.results)
    })
    // Si hay un error, lo capturamos
    .catch( err => {
        console.log(err)
    })
```

El ejemplo anterior es el m치s basico, veamos la misma petici칩n con unas validaciones adicionales y recorriendo los datos que nos devuelve la API.

```js
// Fetch API
fetch('https://pokeapi.co/api/v2/pokemon')
    // fetch retorna una promesa, por lo que usamos el m칠todo then
    .then( res => {
        // Validamos si el estado de la respuesta es 200 (OK)
        if(res.status != 200){
            // Si no es 200, lanzamos un error
            throw new Error(`Error de servidor: ${res.status}`)
        }
        // Si es 200, retornamos la respuesta en formato JSON
        return res.json()
    })
    // data es el objeto JSON que retornamos en el paso anterior
    .then( data => {
        // console.log(data.results)
        // Iteramos sobre el arreglo de pokemones
        data.results.forEach( pokemon => {
            // Extraemos el nombre y la url de cada pokemon
            let { name, url } = pokemon
            // Imprimimos el nombre y la url de cada pokemon
            console.log(name, url)
        })
    })
    // Si hay un error, lo capturamos y lo imprimimos
    .catch( err => {
        console.log(err)
    })
```

## Async / Await

Son una sintaxis que simplifica la programaci칩n as칤ncrona, facilitando el flujo de escritura y lectura de c칩digo; por lo que es posible escribir c칩digo que funcione de forma as칤ncrona, pero que se lea y estructure de forma s칤ncrona.

```js
//Fetch API con Async Await
const obtenerPokemones = async() => {
    try {
        // Guardamos la respuesta de la petici칩n fetch en una constante
        const res = await fetch('https://pokeapi.co/api/v2/pokemon');
        // Si el status de la respuesta no es 200, lanzamos un error
        if(res.status !== 200){
            throw new Error(`Error de servidor: ${res.status}`);
        } 
        // Si el status es 200, guardamos la respuesta en formato JSON en una constante
        const data = await res.json();
        // console.log(data.results); // Array pokemones
        // Iteramos el arreglo de pokemones
        data.results.forEach(pokemon => {
            // Extraemos el nombre y la url de cada pokemon
            const { name, url } = pokemon;
            console.log(name, url);
        })
    } catch (error) {
        console.log(error);
    }
}
obtenerPokemones()
```

## Map

Permite iterar sobre un arreglo y modificar sus elementos utilizando una funci칩n callback. La funci칩n callback se ejecutar치 entonces en cada uno de los elementos del arreglo.

Devolvemos un array de nombres de pokemon, usando ```forEach```

```js
//Fetch API con Async Await
const obtenerPokemones = async() => {
    try {
        const res = await fetch('https://pokeapi.co/api/v2/pokemon');
        const data = await res.json();
        //console.log(data.results); //Imprime el arreglo de objetos
        const arrayNombres = [];
        data.results.forEach(pokemon => {
            arrayNombres.push(pokemon.name)
        })
        console.log(arrayNombres);
    } catch (error) {
        console.log(error);
    }
}
obtenerPokemones()
```

Devolvemos un array de nombres de pokemon

```js
//Fetch API con Async Await
const obtenerPokemones = async() => {
    try {
        const res = await fetch('https://pokeapi.co/api/v2/pokemon');
        const data = await res.json();
        //console.log(data.results); //Imprime el arreglo de objetos
        const arrayNombres = data.results.map(pokemon => pokemon.name);
        console.log(arrayNombres);
    } catch (error) {
        console.log(error);
    }
}
obtenerPokemones()
```

## Filter

El m칠todo```filter()```맊rea un nuevo array con todos los elementos que cumplan la condici칩n implementada por la funci칩n dada

```js
//Fetch API con Async Await
const obtenerPokemones = async() => {
    try {
        const res = await fetch('https://pokeapi.co/api/v2/pokemon');
        const data = await res.json();
        //console.log(data.results); //Imprime el arreglo de objetos
        const arrayNombres = data.results.filter(pokemon => pokemon.name !== 'bulbasaur');
        console.log(arrayNombres);
    } catch (error) {
        console.log(error);
    }
}
obtenerPokemones()
```

## Bibliograf칤a y opcionales

Si quieres seguir aprendiendo al respecto te dejo dos muy buenas fuentes:

1. [JavaScript | MDN](https://developer.mozilla.org/es/docs/Web/JavaScript)

2. [Lenguaje Javascript - Javascript en espa침ol - Lenguaje JS](https://lenguajejs.com/javascript/)
